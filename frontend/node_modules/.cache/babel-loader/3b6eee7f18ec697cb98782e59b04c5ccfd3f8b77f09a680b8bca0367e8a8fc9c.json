{"ast":null,"code":"import React,{useState,useEffect,useCallback,useRef}from'react';import'./App.css';import{Card,CardContent,CardDescription,CardHeader,CardTitle}from'./components/ui/card';import{Button}from'./components/ui/button';import{Input}from'./components/ui/input';import{Progress}from'./components/ui/progress';import{Badge}from'./components/ui/badge';import{Separator}from'./components/ui/separator';import{Tabs,TabsContent,TabsList,TabsTrigger}from'./components/ui/tabs';import{Alert,AlertDescription}from'./components/ui/alert';import{Textarea}from'./components/ui/textarea';import{Label}from'./components/ui/label';import{Upload,Video,FileText,Clock,CheckCircle,AlertCircle,ExternalLink,Trash2,RefreshCw,Download,Globe,Zap}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;const API=\"\".concat(BACKEND_URL,\"/api\");const App=()=>{const[activeTab,setActiveTab]=useState('upload');const[jobs,setJobs]=useState([]);const[dragActive,setDragActive]=useState(false);const[uploadProgress,setUploadProgress]=useState(0);const[isUploading,setIsUploading]=useState(false);const[message,setMessage]=useState('');const[messageType,setMessageType]=useState('info');// Form state\nconst[videoFile,setVideoFile]=useState(null);const[subtitleFile,setSubtitleFile]=useState(null);const[videoUrl,setVideoUrl]=useState('');const[title,setTitle]=useState('');const[description,setDescription]=useState('');const videoInputRef=useRef(null);const subtitleInputRef=useRef(null);const dropZoneRef=useRef(null);// Status polling\nuseEffect(()=>{const interval=setInterval(fetchJobs,3000);fetchJobs();return()=>clearInterval(interval);},[]);const fetchJobs=async()=>{try{const response=await fetch(\"\".concat(API,\"/jobs\"));if(response.ok){const jobsData=await response.json();setJobs(jobsData);}}catch(error){console.error('Failed to fetch jobs:',error);}};const showMessage=function(msg){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'info';setMessage(msg);setMessageType(type);setTimeout(()=>setMessage(''),5000);};// Drag and drop handlers\nconst handleDrag=useCallback(e=>{e.preventDefault();e.stopPropagation();if(e.type==='dragenter'||e.type==='dragover'){setDragActive(true);}else if(e.type==='dragleave'){setDragActive(false);}},[]);const handleDrop=useCallback(e=>{e.preventDefault();e.stopPropagation();setDragActive(false);const files=Array.from(e.dataTransfer.files);files.forEach(file=>{if(file.type.startsWith('video/')){setVideoFile(file);}else if(file.name.endsWith('.srt')||file.name.endsWith('.ass')){setSubtitleFile(file);}});if(files.length>0){showMessage(\"Added \".concat(files.length,\" file(s)\"),'success');}},[]);// File upload handlers\nconst handleVideoFileChange=e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(file){if(file.size>3*1024*1024*1024){showMessage('Video file must be under 3GB','error');return;}setVideoFile(file);showMessage('Video file selected','success');}};const handleSubtitleFileChange=e=>{var _e$target$files2;const file=(_e$target$files2=e.target.files)===null||_e$target$files2===void 0?void 0:_e$target$files2[0];if(file){setSubtitleFile(file);showMessage('Subtitle file selected','success');}};// Upload functions\nconst uploadFiles=async()=>{if(!videoFile||!subtitleFile){showMessage('Please select both video and subtitle files','error');return;}setIsUploading(true);setUploadProgress(0);try{const formData=new FormData();formData.append('video_file',videoFile);formData.append('subtitle_file',subtitleFile);if(title)formData.append('title',title);if(description)formData.append('description',description);const response=await fetch(\"\".concat(API,\"/upload-files\"),{method:'POST',body:formData});if(response.ok){const result=await response.json();showMessage('Upload successful! Processing started.','success');// Reset form\nsetVideoFile(null);setSubtitleFile(null);setTitle('');setDescription('');if(videoInputRef.current)videoInputRef.current.value='';if(subtitleInputRef.current)subtitleInputRef.current.value='';// Switch to queue tab\nsetActiveTab('queue');fetchJobs();}else{const error=await response.json();showMessage(\"Upload failed: \".concat(error.detail),'error');}}catch(error){showMessage(\"Upload error: \".concat(error.message),'error');}finally{setIsUploading(false);setUploadProgress(0);}};const uploadFromUrl=async()=>{if(!videoUrl||!subtitleFile){showMessage('Please provide video URL and subtitle file','error');return;}setIsUploading(true);try{const formData=new FormData();formData.append('video_url',videoUrl);formData.append('subtitle_file',subtitleFile);if(title)formData.append('title',title);if(description)formData.append('description',description);const response=await fetch(\"\".concat(API,\"/upload-url\"),{method:'POST',body:formData});if(response.ok){const result=await response.json();showMessage('Upload successful! Processing started.','success');// Reset form\nsetVideoUrl('');setSubtitleFile(null);setTitle('');setDescription('');if(subtitleInputRef.current)subtitleInputRef.current.value='';// Switch to queue tab\nsetActiveTab('queue');fetchJobs();}else{const error=await response.json();showMessage(\"Upload failed: \".concat(error.detail),'error');}}catch(error){showMessage(\"Upload error: \".concat(error.message),'error');}finally{setIsUploading(false);}};const deleteJob=async jobId=>{try{const response=await fetch(\"\".concat(API,\"/job/\").concat(jobId),{method:'DELETE'});if(response.ok){showMessage('Job deleted successfully','success');fetchJobs();}}catch(error){showMessage('Failed to delete job','error');}};const formatFileSize=bytes=>{if(!bytes)return'Unknown';const sizes=['Bytes','KB','MB','GB'];const i=Math.floor(Math.log(bytes)/Math.log(1024));return Math.round(bytes/Math.pow(1024,i)*100)/100+' '+sizes[i];};const formatTime=seconds=>{if(!seconds)return'0s';const hours=Math.floor(seconds/3600);const minutes=Math.floor(seconds%3600/60);const secs=Math.floor(seconds%60);if(hours>0){return\"\".concat(hours,\"h \").concat(minutes,\"m \").concat(secs,\"s\");}else if(minutes>0){return\"\".concat(minutes,\"m \").concat(secs,\"s\");}else{return\"\".concat(secs,\"s\");}};const getStatusIcon=status=>{switch(status){case'completed':return/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4 text-green-500\"});case'failed':return/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4 text-red-500\"});case'processing':return/*#__PURE__*/_jsx(RefreshCw,{className:\"h-4 w-4 text-blue-500 animate-spin\"});default:return/*#__PURE__*/_jsx(Clock,{className:\"h-4 w-4 text-yellow-500\"});}};const getStatusColor=status=>{switch(status){case'completed':return'bg-green-500';case'failed':return'bg-red-500';case'processing':return'bg-blue-500';default:return'bg-yellow-500';}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-600 to-purple-600 p-3 rounded-full mr-4\",children:/*#__PURE__*/_jsx(Zap,{className:\"h-8 w-8 text-white\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\",children:\"Video Subtitle Encoder\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-gray-600 max-w-2xl mx-auto\",children:\"Fast video subtitle hard-encoding tool with Archive.org upload. Process large files up to 3GB with professional quality.\"})]}),message&&/*#__PURE__*/_jsx(Alert,{className:\"mb-6 \".concat(messageType==='error'?'border-red-200 bg-red-50':messageType==='success'?'border-green-200 bg-green-50':'border-blue-200 bg-blue-50'),children:/*#__PURE__*/_jsx(AlertDescription,{className:messageType==='error'?'text-red-800':messageType==='success'?'text-green-800':'text-blue-800',children:message})}),/*#__PURE__*/_jsxs(Tabs,{value:activeTab,onValueChange:setActiveTab,className:\"w-full\",children:[/*#__PURE__*/_jsxs(TabsList,{className:\"grid w-full grid-cols-2 mb-8\",children:[/*#__PURE__*/_jsxs(TabsTrigger,{value:\"upload\",className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Upload,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Upload & Process\"})]}),/*#__PURE__*/_jsxs(TabsTrigger,{value:\"queue\",className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Processing Queue (\",jobs.length,\")\"]})]})]}),/*#__PURE__*/_jsxs(TabsContent,{value:\"upload\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(Card,{className:\"border-2 border-dashed border-gray-200 hover:border-blue-300 transition-colors\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Video,{className:\"h-5 w-5 text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Upload Files\"})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Select video file (up to 3GB) and subtitle file (.srt or .ass)\"})]}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(\"div\",{ref:dropZoneRef,onDragEnter:handleDrag,onDragLeave:handleDrag,onDragOver:handleDrag,onDrop:handleDrop,className:\"border-2 border-dashed rounded-lg p-8 text-center transition-colors \".concat(dragActive?'border-blue-500 bg-blue-50':'border-gray-300 bg-gray-50 hover:bg-gray-100'),children:[/*#__PURE__*/_jsx(Upload,{className:\"h-12 w-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium text-gray-700 mb-2\",children:\"Drop files here or click to browse\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Supports MP4, AVI, MOV, MKV and SRT, ASS subtitle files\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 mt-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Label,{htmlFor:\"video-file\",className:\"flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(Video,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Video File\"})]}),/*#__PURE__*/_jsx(Input,{id:\"video-file\",ref:videoInputRef,type:\"file\",accept:\"video/*\",onChange:handleVideoFileChange,className:\"cursor-pointer\"}),videoFile&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-green-600 mt-1\",children:[\"\\u2713 \",videoFile.name,\" (\",formatFileSize(videoFile.size),\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Label,{htmlFor:\"subtitle-file\",className:\"flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Subtitle File\"})]}),/*#__PURE__*/_jsx(Input,{id:\"subtitle-file\",ref:subtitleInputRef,type:\"file\",accept:\".srt,.ass\",onChange:handleSubtitleFileChange,className:\"cursor-pointer\"}),subtitleFile&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-green-600 mt-1\",children:[\"\\u2713 \",subtitleFile.name,\" (\",formatFileSize(subtitleFile.size),\")\"]})]}),/*#__PURE__*/_jsx(Button,{onClick:uploadFiles,disabled:isUploading||!videoFile||!subtitleFile,className:\"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700\",children:isUploading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"h-4 w-4 mr-2 animate-spin\"}),\"Uploading...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Upload,{className:\"h-4 w-4 mr-2\"}),\"Start Processing\"]})})]})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"border-2 border-gray-200\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Globe,{className:\"h-5 w-5 text-green-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Upload from URL\"})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Download video from URL and process with subtitles\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"video-url\",children:\"Video URL\"}),/*#__PURE__*/_jsx(Input,{id:\"video-url\",type:\"url\",placeholder:\"https://example.com/video.mp4\",value:videoUrl,onChange:e=>setVideoUrl(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"subtitle-file-url\",children:\"Subtitle File\"}),/*#__PURE__*/_jsx(Input,{id:\"subtitle-file-url\",type:\"file\",accept:\".srt,.ass\",onChange:handleSubtitleFileChange,className:\"cursor-pointer\"}),subtitleFile&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-green-600 mt-1\",children:[\"\\u2713 \",subtitleFile.name]})]}),/*#__PURE__*/_jsx(Button,{onClick:uploadFromUrl,disabled:isUploading||!videoUrl||!subtitleFile,className:\"w-full bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700\",children:isUploading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"h-4 w-4 mr-2 animate-spin\"}),\"Processing...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Download,{className:\"h-4 w-4 mr-2\"}),\"Download & Process\"]})})]})})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"mt-8\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Optional Metadata\"}),/*#__PURE__*/_jsx(CardDescription,{children:\"Add title and description for your processed video\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(Input,{id:\"title\",placeholder:\"Enter video title\",value:title,onChange:e=>setTitle(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(Textarea,{id:\"description\",placeholder:\"Enter video description\",value:description,onChange:e=>setDescription(e.target.value),rows:3})]})]})})]})]}),/*#__PURE__*/_jsx(TabsContent,{value:\"queue\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{className:\"flex flex-row items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Processing Queue\"}),/*#__PURE__*/_jsx(CardDescription,{children:\"Monitor your video processing jobs and encoding progress\"})]}),/*#__PURE__*/_jsxs(Button,{onClick:fetchJobs,variant:\"outline\",size:\"sm\",className:\"ml-auto\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"h-4 w-4 mr-2\"}),\"Refresh\"]})]}),/*#__PURE__*/_jsx(CardContent,{children:jobs.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-16 w-16 text-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No jobs yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Upload some videos to see them here\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:jobs.map(job=>/*#__PURE__*/_jsx(Card,{className:\"border-l-4 border-l-blue-500\",children:/*#__PURE__*/_jsxs(CardContent,{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[getStatusIcon(job.status),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:job.video_filename}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Subtitles: \",job.subtitle_filename]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Badge,{variant:\"secondary\",className:\"\".concat(getStatusColor(job.status),\" text-white\"),children:job.status.toUpperCase()}),job.status==='failed'||job.status==='completed'?/*#__PURE__*/_jsx(Button,{onClick:()=>deleteJob(job.id),variant:\"ghost\",size:\"sm\",className:\"text-red-500 hover:text-red-700\",children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})}):null]})]}),job.status==='processing'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm text-gray-600 mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Processing...\"}),/*#__PURE__*/_jsxs(\"span\",{children:[Math.round(job.progress),\"%\"]})]}),/*#__PURE__*/_jsx(Progress,{value:job.progress,className:\"h-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"File Size\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:formatFileSize(job.video_size)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Encoding Time\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:formatTime(job.encoding_time)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Created\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:new Date(job.created_at).toLocaleString()})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Status\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium capitalize\",children:job.status})]})]}),job.archive_url&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 pt-4 border-t\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Archive.org URL\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-mono text-blue-600 truncate\",children:job.archive_url})]}),/*#__PURE__*/_jsxs(Button,{onClick:()=>window.open(job.archive_url,'_blank'),variant:\"outline\",size:\"sm\",children:[/*#__PURE__*/_jsx(ExternalLink,{className:\"h-4 w-4 mr-2\"}),\"View\"]})]})}),job.error_message&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 bg-red-50 border border-red-200 rounded-md\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-red-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Error:\"}),\" \",job.error_message]})})]})},job.id))})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mt-12 py-8 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Fast video subtitle hard-encoding with Archive.org integration\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 mt-2\",children:\"Supports files up to 3GB \\u2022 FFmpeg powered \\u2022 Professional quality\"})]})]})});};export default App;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","Card","CardContent","CardDescription","CardHeader","CardTitle","Button","Input","Progress","Badge","Separator","Tabs","TabsContent","TabsList","TabsTrigger","Alert","AlertDescription","Textarea","Label","Upload","Video","FileText","Clock","CheckCircle","AlertCircle","ExternalLink","Trash2","RefreshCw","Download","Globe","Zap","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","API","concat","App","activeTab","setActiveTab","jobs","setJobs","dragActive","setDragActive","uploadProgress","setUploadProgress","isUploading","setIsUploading","message","setMessage","messageType","setMessageType","videoFile","setVideoFile","subtitleFile","setSubtitleFile","videoUrl","setVideoUrl","title","setTitle","description","setDescription","videoInputRef","subtitleInputRef","dropZoneRef","interval","setInterval","fetchJobs","clearInterval","response","fetch","ok","jobsData","json","error","console","showMessage","msg","type","arguments","length","undefined","setTimeout","handleDrag","e","preventDefault","stopPropagation","handleDrop","files","Array","from","dataTransfer","forEach","file","startsWith","name","endsWith","handleVideoFileChange","_e$target$files","target","size","handleSubtitleFileChange","_e$target$files2","uploadFiles","formData","FormData","append","method","body","result","current","value","detail","uploadFromUrl","deleteJob","jobId","formatFileSize","bytes","sizes","i","Math","floor","log","round","pow","formatTime","seconds","hours","minutes","secs","getStatusIcon","status","className","getStatusColor","children","onValueChange","ref","onDragEnter","onDragLeave","onDragOver","onDrop","htmlFor","id","accept","onChange","onClick","disabled","placeholder","rows","variant","map","job","video_filename","subtitle_filename","toUpperCase","progress","video_size","encoding_time","Date","created_at","toLocaleString","archive_url","window","open","error_message"],"sources":["/app/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport './App.css';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from './components/ui/card';\nimport { Button } from './components/ui/button';\nimport { Input } from './components/ui/input';\nimport { Progress } from './components/ui/progress';\nimport { Badge } from './components/ui/badge';\nimport { Separator } from './components/ui/separator';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from './components/ui/tabs';\nimport { Alert, AlertDescription } from './components/ui/alert';\nimport { Textarea } from './components/ui/textarea';\nimport { Label } from './components/ui/label';\nimport { \n  Upload, \n  Video, \n  FileText, \n  Clock, \n  CheckCircle, \n  AlertCircle, \n  ExternalLink,\n  Trash2,\n  RefreshCw,\n  Download,\n  Globe,\n  Zap\n} from 'lucide-react';\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = `${BACKEND_URL}/api`;\n\nconst App = () => {\n  const [activeTab, setActiveTab] = useState('upload');\n  const [jobs, setJobs] = useState([]);\n  const [dragActive, setDragActive] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [isUploading, setIsUploading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [messageType, setMessageType] = useState('info');\n  \n  // Form state\n  const [videoFile, setVideoFile] = useState(null);\n  const [subtitleFile, setSubtitleFile] = useState(null);\n  const [videoUrl, setVideoUrl] = useState('');\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  \n  const videoInputRef = useRef(null);\n  const subtitleInputRef = useRef(null);\n  const dropZoneRef = useRef(null);\n\n  // Status polling\n  useEffect(() => {\n    const interval = setInterval(fetchJobs, 3000);\n    fetchJobs();\n    return () => clearInterval(interval);\n  }, []);\n\n  const fetchJobs = async () => {\n    try {\n      const response = await fetch(`${API}/jobs`);\n      if (response.ok) {\n        const jobsData = await response.json();\n        setJobs(jobsData);\n      }\n    } catch (error) {\n      console.error('Failed to fetch jobs:', error);\n    }\n  };\n\n  const showMessage = (msg, type = 'info') => {\n    setMessage(msg);\n    setMessageType(type);\n    setTimeout(() => setMessage(''), 5000);\n  };\n\n  // Drag and drop handlers\n  const handleDrag = useCallback((e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === 'dragenter' || e.type === 'dragover') {\n      setDragActive(true);\n    } else if (e.type === 'dragleave') {\n      setDragActive(false);\n    }\n  }, []);\n\n  const handleDrop = useCallback((e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n\n    const files = Array.from(e.dataTransfer.files);\n    \n    files.forEach(file => {\n      if (file.type.startsWith('video/')) {\n        setVideoFile(file);\n      } else if (file.name.endsWith('.srt') || file.name.endsWith('.ass')) {\n        setSubtitleFile(file);\n      }\n    });\n    \n    if (files.length > 0) {\n      showMessage(`Added ${files.length} file(s)`, 'success');\n    }\n  }, []);\n\n  // File upload handlers\n  const handleVideoFileChange = (e) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      if (file.size > 3 * 1024 * 1024 * 1024) {\n        showMessage('Video file must be under 3GB', 'error');\n        return;\n      }\n      setVideoFile(file);\n      showMessage('Video file selected', 'success');\n    }\n  };\n\n  const handleSubtitleFileChange = (e) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      setSubtitleFile(file);\n      showMessage('Subtitle file selected', 'success');\n    }\n  };\n\n  // Upload functions\n  const uploadFiles = async () => {\n    if (!videoFile || !subtitleFile) {\n      showMessage('Please select both video and subtitle files', 'error');\n      return;\n    }\n\n    setIsUploading(true);\n    setUploadProgress(0);\n\n    try {\n      const formData = new FormData();\n      formData.append('video_file', videoFile);\n      formData.append('subtitle_file', subtitleFile);\n      if (title) formData.append('title', title);\n      if (description) formData.append('description', description);\n\n      const response = await fetch(`${API}/upload-files`, {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        showMessage('Upload successful! Processing started.', 'success');\n        \n        // Reset form\n        setVideoFile(null);\n        setSubtitleFile(null);\n        setTitle('');\n        setDescription('');\n        if (videoInputRef.current) videoInputRef.current.value = '';\n        if (subtitleInputRef.current) subtitleInputRef.current.value = '';\n        \n        // Switch to queue tab\n        setActiveTab('queue');\n        fetchJobs();\n      } else {\n        const error = await response.json();\n        showMessage(`Upload failed: ${error.detail}`, 'error');\n      }\n    } catch (error) {\n      showMessage(`Upload error: ${error.message}`, 'error');\n    } finally {\n      setIsUploading(false);\n      setUploadProgress(0);\n    }\n  };\n\n  const uploadFromUrl = async () => {\n    if (!videoUrl || !subtitleFile) {\n      showMessage('Please provide video URL and subtitle file', 'error');\n      return;\n    }\n\n    setIsUploading(true);\n\n    try {\n      const formData = new FormData();\n      formData.append('video_url', videoUrl);\n      formData.append('subtitle_file', subtitleFile);\n      if (title) formData.append('title', title);\n      if (description) formData.append('description', description);\n\n      const response = await fetch(`${API}/upload-url`, {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        showMessage('Upload successful! Processing started.', 'success');\n        \n        // Reset form\n        setVideoUrl('');\n        setSubtitleFile(null);\n        setTitle('');\n        setDescription('');\n        if (subtitleInputRef.current) subtitleInputRef.current.value = '';\n        \n        // Switch to queue tab\n        setActiveTab('queue');\n        fetchJobs();\n      } else {\n        const error = await response.json();\n        showMessage(`Upload failed: ${error.detail}`, 'error');\n      }\n    } catch (error) {\n      showMessage(`Upload error: ${error.message}`, 'error');\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const deleteJob = async (jobId) => {\n    try {\n      const response = await fetch(`${API}/job/${jobId}`, {\n        method: 'DELETE',\n      });\n\n      if (response.ok) {\n        showMessage('Job deleted successfully', 'success');\n        fetchJobs();\n      }\n    } catch (error) {\n      showMessage('Failed to delete job', 'error');\n    }\n  };\n\n  const formatFileSize = (bytes) => {\n    if (!bytes) return 'Unknown';\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(1024));\n    return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i];\n  };\n\n  const formatTime = (seconds) => {\n    if (!seconds) return '0s';\n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor((seconds % 3600) / 60);\n    const secs = Math.floor(seconds % 60);\n    \n    if (hours > 0) {\n      return `${hours}h ${minutes}m ${secs}s`;\n    } else if (minutes > 0) {\n      return `${minutes}m ${secs}s`;\n    } else {\n      return `${secs}s`;\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'completed':\n        return <CheckCircle className=\"h-4 w-4 text-green-500\" />;\n      case 'failed':\n        return <AlertCircle className=\"h-4 w-4 text-red-500\" />;\n      case 'processing':\n        return <RefreshCw className=\"h-4 w-4 text-blue-500 animate-spin\" />;\n      default:\n        return <Clock className=\"h-4 w-4 text-yellow-500\" />;\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'completed': return 'bg-green-500';\n      case 'failed': return 'bg-red-500';\n      case 'processing': return 'bg-blue-500';\n      default: return 'bg-yellow-500';\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100\">\n      <div className=\"container mx-auto px-4 py-8\">\n        {/* Header */}\n        <div className=\"text-center mb-12\">\n          <div className=\"flex items-center justify-center mb-4\">\n            <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 p-3 rounded-full mr-4\">\n              <Zap className=\"h-8 w-8 text-white\" />\n            </div>\n            <h1 className=\"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n              Video Subtitle Encoder\n            </h1>\n          </div>\n          <p className=\"text-xl text-gray-600 max-w-2xl mx-auto\">\n            Fast video subtitle hard-encoding tool with Archive.org upload. \n            Process large files up to 3GB with professional quality.\n          </p>\n        </div>\n\n        {/* Message Alert */}\n        {message && (\n          <Alert className={`mb-6 ${messageType === 'error' ? 'border-red-200 bg-red-50' : \n                                   messageType === 'success' ? 'border-green-200 bg-green-50' : \n                                   'border-blue-200 bg-blue-50'}`}>\n            <AlertDescription className={messageType === 'error' ? 'text-red-800' : \n                                        messageType === 'success' ? 'text-green-800' : 'text-blue-800'}>\n              {message}\n            </AlertDescription>\n          </Alert>\n        )}\n\n        {/* Main Content */}\n        <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-2 mb-8\">\n            <TabsTrigger value=\"upload\" className=\"flex items-center space-x-2\">\n              <Upload className=\"h-4 w-4\" />\n              <span>Upload & Process</span>\n            </TabsTrigger>\n            <TabsTrigger value=\"queue\" className=\"flex items-center space-x-2\">\n              <Clock className=\"h-4 w-4\" />\n              <span>Processing Queue ({jobs.length})</span>\n            </TabsTrigger>\n          </TabsList>\n\n          {/* Upload Tab */}\n          <TabsContent value=\"upload\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n              \n              {/* File Upload Section */}\n              <Card className=\"border-2 border-dashed border-gray-200 hover:border-blue-300 transition-colors\">\n                <CardHeader>\n                  <CardTitle className=\"flex items-center space-x-2\">\n                    <Video className=\"h-5 w-5 text-blue-600\" />\n                    <span>Upload Files</span>\n                  </CardTitle>\n                  <CardDescription>\n                    Select video file (up to 3GB) and subtitle file (.srt or .ass)\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  {/* Drag & Drop Zone */}\n                  <div\n                    ref={dropZoneRef}\n                    onDragEnter={handleDrag}\n                    onDragLeave={handleDrag}\n                    onDragOver={handleDrag}\n                    onDrop={handleDrop}\n                    className={`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${\n                      dragActive \n                        ? 'border-blue-500 bg-blue-50' \n                        : 'border-gray-300 bg-gray-50 hover:bg-gray-100'\n                    }`}\n                  >\n                    <Upload className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                    <p className=\"text-lg font-medium text-gray-700 mb-2\">\n                      Drop files here or click to browse\n                    </p>\n                    <p className=\"text-sm text-gray-500\">\n                      Supports MP4, AVI, MOV, MKV and SRT, ASS subtitle files\n                    </p>\n                  </div>\n\n                  <div className=\"space-y-4 mt-6\">\n                    {/* Video File Input */}\n                    <div>\n                      <Label htmlFor=\"video-file\" className=\"flex items-center space-x-2 mb-2\">\n                        <Video className=\"h-4 w-4\" />\n                        <span>Video File</span>\n                      </Label>\n                      <Input\n                        id=\"video-file\"\n                        ref={videoInputRef}\n                        type=\"file\"\n                        accept=\"video/*\"\n                        onChange={handleVideoFileChange}\n                        className=\"cursor-pointer\"\n                      />\n                      {videoFile && (\n                        <p className=\"text-sm text-green-600 mt-1\">\n                          ✓ {videoFile.name} ({formatFileSize(videoFile.size)})\n                        </p>\n                      )}\n                    </div>\n\n                    {/* Subtitle File Input */}\n                    <div>\n                      <Label htmlFor=\"subtitle-file\" className=\"flex items-center space-x-2 mb-2\">\n                        <FileText className=\"h-4 w-4\" />\n                        <span>Subtitle File</span>\n                      </Label>\n                      <Input\n                        id=\"subtitle-file\"\n                        ref={subtitleInputRef}\n                        type=\"file\"\n                        accept=\".srt,.ass\"\n                        onChange={handleSubtitleFileChange}\n                        className=\"cursor-pointer\"\n                      />\n                      {subtitleFile && (\n                        <p className=\"text-sm text-green-600 mt-1\">\n                          ✓ {subtitleFile.name} ({formatFileSize(subtitleFile.size)})\n                        </p>\n                      )}\n                    </div>\n\n                    <Button \n                      onClick={uploadFiles} \n                      disabled={isUploading || !videoFile || !subtitleFile}\n                      className=\"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700\"\n                    >\n                      {isUploading ? (\n                        <>\n                          <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n                          Uploading...\n                        </>\n                      ) : (\n                        <>\n                          <Upload className=\"h-4 w-4 mr-2\" />\n                          Start Processing\n                        </>\n                      )}\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n\n              {/* URL Upload Section */}\n              <Card className=\"border-2 border-gray-200\">\n                <CardHeader>\n                  <CardTitle className=\"flex items-center space-x-2\">\n                    <Globe className=\"h-5 w-5 text-green-600\" />\n                    <span>Upload from URL</span>\n                  </CardTitle>\n                  <CardDescription>\n                    Download video from URL and process with subtitles\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    <div>\n                      <Label htmlFor=\"video-url\">Video URL</Label>\n                      <Input\n                        id=\"video-url\"\n                        type=\"url\"\n                        placeholder=\"https://example.com/video.mp4\"\n                        value={videoUrl}\n                        onChange={(e) => setVideoUrl(e.target.value)}\n                      />\n                    </div>\n\n                    <div>\n                      <Label htmlFor=\"subtitle-file-url\">Subtitle File</Label>\n                      <Input\n                        id=\"subtitle-file-url\"\n                        type=\"file\"\n                        accept=\".srt,.ass\"\n                        onChange={handleSubtitleFileChange}\n                        className=\"cursor-pointer\"\n                      />\n                      {subtitleFile && (\n                        <p className=\"text-sm text-green-600 mt-1\">\n                          ✓ {subtitleFile.name}\n                        </p>\n                      )}\n                    </div>\n\n                    <Button \n                      onClick={uploadFromUrl} \n                      disabled={isUploading || !videoUrl || !subtitleFile}\n                      className=\"w-full bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700\"\n                    >\n                      {isUploading ? (\n                        <>\n                          <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n                          Processing...\n                        </>\n                      ) : (\n                        <>\n                          <Download className=\"h-4 w-4 mr-2\" />\n                          Download & Process\n                        </>\n                      )}\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n\n            {/* Metadata Section */}\n            <Card className=\"mt-8\">\n              <CardHeader>\n                <CardTitle>Optional Metadata</CardTitle>\n                <CardDescription>\n                  Add title and description for your processed video\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <Label htmlFor=\"title\">Title</Label>\n                    <Input\n                      id=\"title\"\n                      placeholder=\"Enter video title\"\n                      value={title}\n                      onChange={(e) => setTitle(e.target.value)}\n                    />\n                  </div>\n                  <div className=\"md:col-span-2\">\n                    <Label htmlFor=\"description\">Description</Label>\n                    <Textarea\n                      id=\"description\"\n                      placeholder=\"Enter video description\"\n                      value={description}\n                      onChange={(e) => setDescription(e.target.value)}\n                      rows={3}\n                    />\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          {/* Queue Tab */}\n          <TabsContent value=\"queue\">\n            <Card>\n              <CardHeader className=\"flex flex-row items-center justify-between\">\n                <div>\n                  <CardTitle>Processing Queue</CardTitle>\n                  <CardDescription>\n                    Monitor your video processing jobs and encoding progress\n                  </CardDescription>\n                </div>\n                <Button \n                  onClick={fetchJobs} \n                  variant=\"outline\" \n                  size=\"sm\"\n                  className=\"ml-auto\"\n                >\n                  <RefreshCw className=\"h-4 w-4 mr-2\" />\n                  Refresh\n                </Button>\n              </CardHeader>\n              <CardContent>\n                {jobs.length === 0 ? (\n                  <div className=\"text-center py-12\">\n                    <Clock className=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No jobs yet</h3>\n                    <p className=\"text-gray-500\">Upload some videos to see them here</p>\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {jobs.map((job) => (\n                      <Card key={job.id} className=\"border-l-4 border-l-blue-500\">\n                        <CardContent className=\"p-6\">\n                          <div className=\"flex items-start justify-between mb-4\">\n                            <div className=\"flex items-center space-x-3\">\n                              {getStatusIcon(job.status)}\n                              <div>\n                                <h4 className=\"font-medium text-gray-900\">\n                                  {job.video_filename}\n                                </h4>\n                                <p className=\"text-sm text-gray-500\">\n                                  Subtitles: {job.subtitle_filename}\n                                </p>\n                              </div>\n                            </div>\n                            <div className=\"flex items-center space-x-2\">\n                              <Badge \n                                variant=\"secondary\" \n                                className={`${getStatusColor(job.status)} text-white`}\n                              >\n                                {job.status.toUpperCase()}\n                              </Badge>\n                              {job.status === 'failed' || job.status === 'completed' ? (\n                                <Button\n                                  onClick={() => deleteJob(job.id)}\n                                  variant=\"ghost\"\n                                  size=\"sm\"\n                                  className=\"text-red-500 hover:text-red-700\"\n                                >\n                                  <Trash2 className=\"h-4 w-4\" />\n                                </Button>\n                              ) : null}\n                            </div>\n                          </div>\n\n                          {/* Progress Bar */}\n                          {job.status === 'processing' && (\n                            <div className=\"mb-4\">\n                              <div className=\"flex justify-between text-sm text-gray-600 mb-2\">\n                                <span>Processing...</span>\n                                <span>{Math.round(job.progress)}%</span>\n                              </div>\n                              <Progress value={job.progress} className=\"h-2\" />\n                            </div>\n                          )}\n\n                          {/* Job Details */}\n                          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                            <div>\n                              <p className=\"text-gray-500\">File Size</p>\n                              <p className=\"font-medium\">{formatFileSize(job.video_size)}</p>\n                            </div>\n                            <div>\n                              <p className=\"text-gray-500\">Encoding Time</p>\n                              <p className=\"font-medium\">{formatTime(job.encoding_time)}</p>\n                            </div>\n                            <div>\n                              <p className=\"text-gray-500\">Created</p>\n                              <p className=\"font-medium\">\n                                {new Date(job.created_at).toLocaleString()}\n                              </p>\n                            </div>\n                            <div>\n                              <p className=\"text-gray-500\">Status</p>\n                              <p className=\"font-medium capitalize\">{job.status}</p>\n                            </div>\n                          </div>\n\n                          {/* Archive URL */}\n                          {job.archive_url && (\n                            <div className=\"mt-4 pt-4 border-t\">\n                              <div className=\"flex items-center justify-between\">\n                                <div>\n                                  <p className=\"text-sm text-gray-500\">Archive.org URL</p>\n                                  <p className=\"text-sm font-mono text-blue-600 truncate\">\n                                    {job.archive_url}\n                                  </p>\n                                </div>\n                                <Button\n                                  onClick={() => window.open(job.archive_url, '_blank')}\n                                  variant=\"outline\"\n                                  size=\"sm\"\n                                >\n                                  <ExternalLink className=\"h-4 w-4 mr-2\" />\n                                  View\n                                </Button>\n                              </div>\n                            </div>\n                          )}\n\n                          {/* Error Message */}\n                          {job.error_message && (\n                            <div className=\"mt-4 p-3 bg-red-50 border border-red-200 rounded-md\">\n                              <p className=\"text-sm text-red-800\">\n                                <strong>Error:</strong> {job.error_message}\n                              </p>\n                            </div>\n                          )}\n                        </CardContent>\n                      </Card>\n                    ))}\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </Tabs>\n\n        {/* Footer */}\n        <div className=\"text-center mt-12 py-8 border-t border-gray-200\">\n          <p className=\"text-gray-500\">\n            Fast video subtitle hard-encoding with Archive.org integration\n          </p>\n          <p className=\"text-sm text-gray-400 mt-2\">\n            Supports files up to 3GB • FFmpeg powered • Professional quality\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}